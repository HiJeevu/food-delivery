{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/practice/food-delivery/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function EditItem(_ref){let{item,onUpdate,onCancel}=_ref;const[formData,setFormData]=useState(_objectSpread({},item));const[newImage,setNewImage]=useState(null);const handleSubmit=async e=>{e.preventDefault();const data=new FormData();data.append('name',formData.name);data.append('price',formData.price);data.append('description',formData.description);if(newImage)data.append('image',newImage);try{await axios.put(\"http://localhost:5000/api/items/\".concat(item.id),data);alert(\"Item updated!\");onUpdate();// Refresh the list\n}catch(err){console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 shadow-sm mb-4 border-primary\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Edit Item: \",item.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Item Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Price ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:formData.price,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{price:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Update Image (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",onChange:e=>setNewImage(e.target.files[0])})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 d-flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onCancel,children:\"Cancel\"})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","jsxs","_jsxs","jsx","_jsx","EditItem","_ref","item","onUpdate","onCancel","formData","setFormData","_objectSpread","newImage","setNewImage","handleSubmit","e","preventDefault","data","FormData","append","name","price","description","put","concat","id","alert","err","console","error","className","children","onSubmit","type","value","onChange","target","files","onClick"],"sources":["C:/Users/Admin/Desktop/practice/food-delivery/client/src/components/EditItem.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function EditItem({ item, onUpdate, onCancel }) {\r\n    const [formData, setFormData] = useState({ ...item });\r\n    const [newImage, setNewImage] = useState(null);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append('name', formData.name);\r\n        data.append('price', formData.price);\r\n        data.append('description', formData.description);\r\n        if (newImage) data.append('image', newImage);\r\n\r\n        try {\r\n            await axios.put(`http://localhost:5000/api/items/${item.id}`, data);\r\n            alert(\"Item updated!\");\r\n            onUpdate(); // Refresh the list\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"card p-4 shadow-sm mb-4 border-primary\">\r\n            <h5>Edit Item: {item.name}</h5>\r\n            <form onSubmit={handleSubmit} className=\"row g-3\">\r\n                <div className=\"col-md-6\">\r\n                    <label className=\"form-label\">Item Name</label>\r\n                    <input type=\"text\" className=\"form-control\" value={formData.name} \r\n                        onChange={e => setFormData({...formData, name: e.target.value})} />\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                    <label className=\"form-label\">Price ($)</label>\r\n                    <input type=\"number\" className=\"form-control\" value={formData.price} \r\n                        onChange={e => setFormData({...formData, price: e.target.value})} />\r\n                </div>\r\n                <div className=\"col-12\">\r\n                    <label className=\"form-label\">Description</label>\r\n                    <textarea className=\"form-control\" value={formData.description} \r\n                        onChange={e => setFormData({...formData, description: e.target.value})} />\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                    <label className=\"form-label\">Update Image (Optional)</label>\r\n                    <input type=\"file\" className=\"form-control\" onChange={e => setNewImage(e.target.files[0])} />\r\n                </div>\r\n                <div className=\"col-12 d-flex gap-2\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Save Changes</button>\r\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={onCancel}>Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
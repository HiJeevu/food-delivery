{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/practice/food-delivery/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function OrderList(){const[orders,setOrders]=useState([]);useEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{try{const res=await axios.get('http://localhost:5000/api/orders');setOrders(res.data);}catch(err){console.error(\"Error fetching orders\",err);}};const updateStatus=async(id,newStatus)=>{try{await axios.put(\"http://localhost:5000/api/orders/\".concat(id),{status:newStatus});// Update local state to reflect change immediately\nsetOrders(orders.map(o=>o.id===id?_objectSpread(_objectSpread({},o),{},{status:newStatus}):o));alert(\"Order #\".concat(id,\" updated to \").concat(newStatus));}catch(err){alert(\"Failed to update status\");}};const getStatusStyle=status=>{switch(status){case'Pending':return'bg-warning text-dark';case'Processing':return'bg-info text-white';case'Shipped':return'bg-primary text-white';case'Delivered':return'bg-success text-white';case'Cancelled':return'bg-danger text-white';default:return'bg-secondary text-white';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm border-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white py-3\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Incoming Orders\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover align-middle mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact & Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Update Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[\"#\",order.id]})}),/*#__PURE__*/_jsx(\"td\",{children:order.customer_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[order.phone,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:order.address})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.total_amount]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getStatusStyle(order.status)),children:order.status})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",value:order.status,onChange:e=>updateStatus(order.id,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Shipped\",children:\"Shipped\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Delivered\",children:\"Delivered\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]})})]},order.id))})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","OrderList","orders","setOrders","fetchOrders","res","get","data","err","console","error","updateStatus","id","newStatus","put","concat","status","map","o","_objectSpread","alert","getStatusStyle","className","children","order","customer_name","phone","address","total_amount","value","onChange","e","target"],"sources":["C:/Users/Admin/Desktop/practice/food-delivery/client/src/components/OrderList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function OrderList() {\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchOrders();\r\n    }, []);\r\n\r\n    const fetchOrders = async () => {\r\n        try {\r\n            const res = await axios.get('http://localhost:5000/api/orders');\r\n            setOrders(res.data);\r\n        } catch (err) {\r\n            console.error(\"Error fetching orders\", err);\r\n        }\r\n    };\r\n\r\n    const updateStatus = async (id, newStatus) => {\r\n        try {\r\n            await axios.put(`http://localhost:5000/api/orders/${id}`, { status: newStatus });\r\n            // Update local state to reflect change immediately\r\n            setOrders(orders.map(o => o.id === id ? { ...o, status: newStatus } : o));\r\n            alert(`Order #${id} updated to ${newStatus}`);\r\n        } catch (err) {\r\n            alert(\"Failed to update status\");\r\n        }\r\n    };\r\n\r\n    const getStatusStyle = (status) => {\r\n        switch (status) {\r\n            case 'Pending': return 'bg-warning text-dark';\r\n            case 'Processing': return 'bg-info text-white';\r\n            case 'Shipped': return 'bg-primary text-white';\r\n            case 'Delivered': return 'bg-success text-white';\r\n            case 'Cancelled': return 'bg-danger text-white';\r\n            default: return 'bg-secondary text-white';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"card shadow-sm border-0\">\r\n            <div className=\"card-header bg-white py-3\">\r\n                <h5 className=\"mb-0\">Incoming Orders</h5>\r\n            </div>\r\n            <div className=\"table-responsive\">\r\n                <table className=\"table table-hover align-middle mb-0\">\r\n                    <thead className=\"table-light\">\r\n                        <tr>\r\n                            <th>Order ID</th>\r\n                            <th>Customer</th>\r\n                            <th>Contact & Address</th>\r\n                            <th>Amount</th>\r\n                            <th>Status</th>\r\n                            <th>Update Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {orders.map(order => (\r\n                            <tr key={order.id}>\r\n                                <td><span className=\"fw-bold\">#{order.id}</span></td>\r\n                                <td>{order.customer_name}</td>\r\n                                <td>\r\n                                    <small>\r\n                                        {order.phone} <br />\r\n                                        <span className=\"text-muted\">{order.address}</span>\r\n                                    </small>\r\n                                </td>\r\n                                <td>${order.total_amount}</td>\r\n                                <td>\r\n                                    <span className={`badge ${getStatusStyle(order.status)}`}>\r\n                                        {order.status}\r\n                                    </span>\r\n                                </td>\r\n                                <td>\r\n                                    <select \r\n                                        className=\"form-select form-select-sm\" \r\n                                        value={order.status}\r\n                                        onChange={(e) => updateStatus(order.id, e.target.value)}\r\n                                    >\r\n                                        <option value=\"Pending\">Pending</option>\r\n                                        <option value=\"Processing\">Processing</option>\r\n                                        <option value=\"Shipped\">Shipped</option>\r\n                                        <option value=\"Delivered\">Delivered</option>\r\n                                        <option value=\"Cancelled\">Cancelled</option>\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import EditItem from'./EditItem';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ItemList(){const[items,setItems]=useState([]);const[editingItem,setEditingItem]=useState(null);const fetchItems=async()=>{const res=await axios.get('http://localhost:5000/api/items');setItems(res.data);};useEffect(()=>{fetchItems();},[]);const deleteItem=async id=>{if(window.confirm(\"Delete this item?\")){await axios.delete(\"http://localhost:5000/api/items/\".concat(id));fetchItems();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[editingItem&&/*#__PURE__*/_jsx(EditItem,{item:editingItem,onUpdate:()=>{setEditingItem(null);fetchItems();},onCancel:()=>setEditingItem(null)}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Product Inventory\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/uploads/\".concat(item.image),alt:\"\",style:{width:'50px',borderRadius:'5px'}})}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-truncate\",style:{maxWidth:'200px'},children:item.description}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-primary me-2\",onClick:()=>setEditingItem(item),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-danger\",onClick:()=>deleteItem(item.id),children:\"Delete\"})]})]},item.id))})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","EditItem","jsx","_jsx","jsxs","_jsxs","ItemList","items","setItems","editingItem","setEditingItem","fetchItems","res","get","data","deleteItem","id","window","confirm","delete","concat","className","children","item","onUpdate","onCancel","map","src","image","alt","style","width","borderRadius","name","price","maxWidth","description","onClick"],"sources":["C:/Users/Admin/Desktop/practice/food-delivery/client/src/components/ItemList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport EditItem from './EditItem';\r\n\r\nexport default function ItemList() {\r\n    const [items, setItems] = useState([]);\r\n    const [editingItem, setEditingItem] = useState(null);\r\n\r\n    const fetchItems = async () => {\r\n        const res = await axios.get('http://localhost:5000/api/items');\r\n        setItems(res.data);\r\n    };\r\n\r\n    useEffect(() => { fetchItems(); }, []);\r\n\r\n    const deleteItem = async (id) => {\r\n        if (window.confirm(\"Delete this item?\")) {\r\n            await axios.delete(`http://localhost:5000/api/items/${id}`);\r\n            fetchItems();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"mt-4\">\r\n            {/* If an item is being edited, show the Edit Form at the top */}\r\n            {editingItem && (\r\n                <EditItem \r\n                    item={editingItem} \r\n                    onUpdate={() => { setEditingItem(null); fetchItems(); }} \r\n                    onCancel={() => setEditingItem(null)} \r\n                />\r\n            )}\r\n\r\n            <div className=\"card p-3 shadow-sm\">\r\n                <h5>Product Inventory</h5>\r\n                <table className=\"table align-middle\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Image</th>\r\n                            <th>Name</th>\r\n                            <th>Price</th>\r\n                            <th>Description</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {items.map(item => (\r\n                            <tr key={item.id}>\r\n                                <td>\r\n                                    <img src={`http://localhost:5000/uploads/${item.image}`} \r\n                                         alt=\"\" style={{width: '50px', borderRadius: '5px'}} />\r\n                                </td>\r\n                                <td>{item.name}</td>\r\n                                <td>${item.price}</td>\r\n                                <td className=\"text-truncate\" style={{maxWidth: '200px'}}>{item.description}</td>\r\n                                <td>\r\n                                    <button className=\"btn btn-sm btn-outline-primary me-2\" \r\n                                        onClick={() => setEditingItem(item)}>\r\n                                        Edit\r\n                                    </button>\r\n                                    <button className=\"btn btn-sm btn-outline-danger\" \r\n                                        onClick={() => deleteItem(item.id)}>\r\n                                        Delete\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CAC/B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAEpD,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,iCAAiC,CAAC,CAC9DL,QAAQ,CAACI,GAAG,CAACE,IAAI,CAAC,CACtB,CAAC,CAEDhB,SAAS,CAAC,IAAM,CAAEa,UAAU,CAAC,CAAC,CAAE,CAAC,CAAE,EAAE,CAAC,CAEtC,KAAM,CAAAI,UAAU,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC7B,GAAIC,MAAM,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAAE,CACrC,KAAM,CAAAlB,KAAK,CAACmB,MAAM,oCAAAC,MAAA,CAAoCJ,EAAE,CAAE,CAAC,CAC3DL,UAAU,CAAC,CAAC,CAChB,CACJ,CAAC,CAED,mBACIN,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,EAEhBb,WAAW,eACRN,IAAA,CAACF,QAAQ,EACLsB,IAAI,CAAEd,WAAY,CAClBe,QAAQ,CAAEA,CAAA,GAAM,CAAEd,cAAc,CAAC,IAAI,CAAC,CAAEC,UAAU,CAAC,CAAC,CAAE,CAAE,CACxDc,QAAQ,CAAEA,CAAA,GAAMf,cAAc,CAAC,IAAI,CAAE,CACxC,CACJ,cAEDL,KAAA,QAAKgB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/BnB,IAAA,OAAAmB,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BjB,KAAA,UAAOgB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCnB,IAAA,UAAAmB,QAAA,cACIjB,KAAA,OAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdnB,IAAA,OAAAmB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbnB,IAAA,OAAAmB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdnB,IAAA,OAAAmB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBnB,IAAA,OAAAmB,QAAA,CAAI,SAAO,CAAI,CAAC,EAChB,CAAC,CACF,CAAC,cACRnB,IAAA,UAAAmB,QAAA,CACKf,KAAK,CAACmB,GAAG,CAACH,IAAI,eACXlB,KAAA,OAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,cACInB,IAAA,QAAKwB,GAAG,kCAAAP,MAAA,CAAmCG,IAAI,CAACK,KAAK,CAAG,CACnDC,GAAG,CAAC,EAAE,CAACC,KAAK,CAAE,CAACC,KAAK,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAK,CAAE,CAAE,CAAC,CAC3D,CAAC,cACL7B,IAAA,OAAAmB,QAAA,CAAKC,IAAI,CAACU,IAAI,CAAK,CAAC,cACpB5B,KAAA,OAAAiB,QAAA,EAAI,GAAC,CAACC,IAAI,CAACW,KAAK,EAAK,CAAC,cACtB/B,IAAA,OAAIkB,SAAS,CAAC,eAAe,CAACS,KAAK,CAAE,CAACK,QAAQ,CAAE,OAAO,CAAE,CAAAb,QAAA,CAAEC,IAAI,CAACa,WAAW,CAAK,CAAC,cACjF/B,KAAA,OAAAiB,QAAA,eACInB,IAAA,WAAQkB,SAAS,CAAC,qCAAqC,CACnDgB,OAAO,CAAEA,CAAA,GAAM3B,cAAc,CAACa,IAAI,CAAE,CAAAD,QAAA,CAAC,MAEzC,CAAQ,CAAC,cACTnB,IAAA,WAAQkB,SAAS,CAAC,+BAA+B,CAC7CgB,OAAO,CAAEA,CAAA,GAAMtB,UAAU,CAACQ,IAAI,CAACP,EAAE,CAAE,CAAAM,QAAA,CAAC,QAExC,CAAQ,CAAC,EACT,CAAC,GAjBAC,IAAI,CAACP,EAkBV,CACP,CAAC,CACC,CAAC,EACL,CAAC,EACP,CAAC,EACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}